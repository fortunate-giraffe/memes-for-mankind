// Copyright Google Inc. All Rights Reserved.
(function(){'use strict';var g,h=this,k=function(a){return void 0!==a},aa=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&
!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},ba=function(a){return"string"==typeof a},ea=function(a){return"function"==aa(a)},fa=function(a,b,c){return a.call.apply(a.bind,arguments)},ga=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,
c)}}return function(){return a.apply(b,arguments)}},m=function(a,b,c){m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fa:ga;return m.apply(null,arguments)},ha=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}},ia=Date.now||function(){return+new Date},n=function(a,b){var c=a.split("."),d=h;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&
k(b)?d[e]=b:d=d[e]?d[e]:d[e]={}},p=function(a,b){function c(){}c.prototype=b.prototype;a.r=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.vc=function(a,c,f){for(var l=Array(arguments.length-2),t=2;t<arguments.length;t++)l[t-2]=arguments[t];return b.prototype[c].apply(a,l)}};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return m.apply(null,c)}return m(this,a)};var q=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};p(q,Error);q.prototype.name="CustomError";var ja=function(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")},ka=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},la=function(a,b){var c=String(a).toLowerCase(),d=String(b).toLowerCase();return c<d?-1:c==d?0:1},ma=function(a,b){return a<b?-1:a>b?1:0};var na=function(a,b){b.unshift(a);q.call(this,ja.apply(null,b));b.shift()};p(na,q);na.prototype.name="AssertionError";var r=function(a,b,c){if(!a){var d="Assertion failed";if(b)var d=d+(": "+b),e=Array.prototype.slice.call(arguments,2);throw new na(""+d,e||[]);}},oa=function(a,b){throw new na("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var pa=Array.prototype,qa=pa.indexOf?function(a,b,c){r(null!=a.length);return pa.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ba(a))return ba(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var ra=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},sa=function(a){var b={},c;for(c in a)b[c]=a[c];return b},ta="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ua=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ta.length;f++)c=ta[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var u;t:{var va=h.navigator;if(va){var wa=va.userAgent;if(wa){u=wa;break t}}u=""};var v=function(){return-1!=u.indexOf("Edge")};var xa=-1!=u.indexOf("Opera")||-1!=u.indexOf("OPR"),x=-1!=u.indexOf("Edge")||-1!=u.indexOf("Trident")||-1!=u.indexOf("MSIE"),y=-1!=u.indexOf("Gecko")&&!(-1!=u.toLowerCase().indexOf("webkit")&&!v())&&!(-1!=u.indexOf("Trident")||-1!=u.indexOf("MSIE"))&&!v(),ya=-1!=u.toLowerCase().indexOf("webkit")&&!v(),za=function(){var a=u;if(y)return/rv\:([^\);]+)(\)|;)/.exec(a);if(x&&v())return/Edge\/([\d\.]+)/.exec(a);if(x)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(ya)return/WebKit\/(\S+)/.exec(a)},Aa=
function(){var a=h.document;return a?a.documentMode:void 0},Ba=function(){if(xa&&h.opera){var a=h.opera.version;return ea(a)?a():a}var a="",b=za();b&&(a=b?b[1]:"");return x&&!v()&&(b=Aa(),b>parseFloat(a))?String(b):a}(),Ca={},z=function(a){var b;if(!(b=Ca[a])){b=0;for(var c=ka(String(Ba)).split("."),d=ka(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var l=c[f]||"",t=d[f]||"",w=/(\d*)(\D*)/g,ec=/(\d*)(\D*)/g;do{var ca=w.exec(l)||["","",""],da=ec.exec(t)||["","",""];if(0==ca[0].length&&
0==da[0].length)break;b=ma(0==ca[1].length?0:parseInt(ca[1],10),0==da[1].length?0:parseInt(da[1],10))||ma(0==ca[2].length,0==da[2].length)||ma(ca[2],da[2])}while(0==b)}b=Ca[a]=0<=b}return b},Da=h.document,Ea=Aa(),Fa=!Da||!x||!Ea&&v()?void 0:Ea||("CSS1Compat"==Da.compatMode?parseInt(Ba,10):5);var Ga=function(a,b,c,d,e){this.reset(a,b,c,d,e)};Ga.prototype.Ca=null;var Ha=0;Ga.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Ha++;this.vb=d||ia();this.D=a;this.hb=b;this.fb=c;delete this.Ca};Ga.prototype.Da=function(){return this.D};Ga.prototype.Ta=function(a){this.D=a};var A=function(a){this.ib=a;this.T=this.wa=this.D=this.oa=null},B=function(a,b){this.name=a;this.value=b};B.prototype.toString=function(){return this.name};
var Ia=new B("SHOUT",1200),Ja=new B("SEVERE",1E3),Ka=new B("WARNING",900),La=new B("INFO",800),Ma=new B("CONFIG",700),Na=new B("FINE",500),C=new B("FINER",400),Oa=[new B("OFF",Infinity),Ia,Ja,Ka,La,Ma,Na,C,new B("FINEST",300),new B("ALL",0)],D=null,Pa=function(a){if(!D){D={};for(var b=0,c;c=Oa[b];b++)D[c.value]=c,D[c.name]=c}if(a in D)return D[a];for(b=0;b<Oa.length;++b)if(c=Oa[b],c.value<=a)return c;return null};A.prototype.getName=function(){return this.ib};A.prototype.getParent=function(){return this.oa};
A.prototype.Ta=function(a){this.D=a};A.prototype.Da=function(){return this.D};var Qa=function(a){if(a.D)return a.D;if(a.oa)return Qa(a.oa);oa("Root logger has no level set.");return null};
A.prototype.log=function(a,b,c){if(a.value>=Qa(this).value)for(ea(b)&&(b=b()),a=new Ga(a,String(b),this.ib),c&&(a.Ca=c),c="log:"+a.hb,h.console&&(h.console.timeStamp?h.console.timeStamp(c):h.console.markTimeline&&h.console.markTimeline(c)),h.msWriteProfilerMark&&h.msWriteProfilerMark(c),c=this;c;){b=c;var d=a;if(b.T)for(var e=0,f=void 0;f=b.T[e];e++)f(d);c=c.getParent()}};A.prototype.info=function(a,b){this.log(La,a,b)};
var Ra={},Sa=null,Ta=function(){Sa||(Sa=new A(""),Ra[""]=Sa,Sa.Ta(Ma))},E=function(a){Ta();var b;if(!(b=Ra[a])){b=new A(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=E(a.substr(0,c));c.wa||(c.wa={});c.wa[d]=b;b.oa=c;Ra[a]=b}return b};var F=function(){this.R=this.R;this.G=this.G};F.prototype.R=!1;F.prototype.A=function(){this.R||(this.R=!0,this.d())};var Ua=function(a,b){a.R?b.call(void 0):(a.G||(a.G=[]),a.G.push(k(void 0)?m(b,void 0):b))};F.prototype.d=function(){if(this.G)for(;this.G.length;)this.G.shift()()};var Va=function(a){a&&"function"==typeof a.A&&a.A()};var G=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.H=!1;this.mb=!0};G.prototype.stopPropagation=function(){this.H=!0};G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.mb=!1};var H=function(a,b,c){a&&a.log(b,c,void 0)},I=function(a,b){a&&a.log(Ja,b,void 0)},Wa=function(a,b){a&&a.log(Ka,b,void 0)},J=function(a,b){a&&a.info(b,void 0)},Xa=function(a,b){a&&a.log(Na,b,void 0)};n("cast.receiver.VERSION","2.0.0");var K=E("cast");n("cast.receiver.logger",K);n("cast.receiver.LoggerLevel",{DEBUG:0,VERBOSE:500,INFO:800,WARNING:900,ERROR:1E3,NONE:1500});K.qb=function(a){K&&K.Ta(Pa(a))};K.setLevelValue=K.qb;K&&K.qb(1E3);var Ya=function(){this.lb=ia()},Za=new Ya;Ya.prototype.set=function(a){this.lb=a};Ya.prototype.reset=function(){this.set(ia())};Ya.prototype.get=function(){return this.lb};var $a=function(a){this.kc=a||"";this.tc=Za};g=$a.prototype;g.Ua=!0;g.sb=!0;g.rc=!0;g.qc=!0;g.tb=!1;g.sc=!1;var L=function(a){return 10>a?"0"+a:String(a)},ab=function(a,b){var c=(a.vb-b)/1E3,d=c.toFixed(3),e=0;if(1>c)e=2;else for(;100>c;)e++,c*=10;for(;0<e--;)d=" "+d;return d},bb=function(a){$a.call(this,a)};p(bb,$a);var cb=function(){this.lc=m(this.xb,this);this.ga=new bb;this.ga.sb=!1;this.ga.tb=!1;this.cb=this.ga.Ua=!1;this.eb="";this.Sb={}};
cb.prototype.xb=function(a){if(!this.Sb[a.fb]){var b;b=this.ga;var c=[];c.push(b.kc," ");if(b.sb){var d=new Date(a.vb);c.push("[",L(d.getFullYear()-2E3)+L(d.getMonth()+1)+L(d.getDate())+" "+L(d.getHours())+":"+L(d.getMinutes())+":"+L(d.getSeconds())+"."+L(Math.floor(d.getMilliseconds()/10)),"] ")}b.rc&&c.push("[",ab(a,b.tc.get()),"s] ");b.qc&&c.push("[",a.fb,"] ");b.sc&&c.push("[",a.Da().name,"] ");c.push(a.hb);b.tb&&(d=a.Ca)&&c.push("\n",d instanceof Error?d.message:d.toString());b.Ua&&c.push("\n");
b=c.join("");if(c=db)switch(a.Da()){case Ia:eb(c,"info",b);break;case Ja:eb(c,"error",b);break;case Ka:eb(c,"warn",b);break;default:eb(c,"debug",b)}else this.eb+=b}};var db=h.console,eb=function(a,b,c){if(a[b])a[b](c);else a.log(c)};var fb=function(a){fb[" "](a);return a};fb[" "]=function(){};var gb=!x||x&&(v()||9<=Fa),hb=x&&!z("9");!ya||z("528");y&&z("1.9b")||x&&z("8")||xa&&z("9.5")||ya&&z("528");y&&!z("8")||x&&z("9");var M=function(a,b){G.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.S=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(y){var e;t:{try{fb(d.nodeName);e=!0;break t}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=ya||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=ya||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.state=a.state;this.S=a;a.defaultPrevented&&this.preventDefault()}};p(M,G);M.prototype.stopPropagation=function(){M.r.stopPropagation.call(this);this.S.stopPropagation?this.S.stopPropagation():this.S.cancelBubble=!0};M.prototype.preventDefault=function(){M.r.preventDefault.call(this);var a=this.S;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,hb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var ib="closure_listenable_"+(1E6*Math.random()|0),jb=0;var kb=function(a,b,c,d,e){this.F=a;this.pa=null;this.src=b;this.type=c;this.fa=!!d;this.ha=e;this.key=++jb;this.O=this.ea=!1},lb=function(a){a.O=!0;a.F=null;a.pa=null;a.src=null;a.ha=null};var N=function(a){this.src=a;this.h={};this.da=0};N.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.h[f];a||(a=this.h[f]=[],this.da++);var l=mb(a,b,d,e);-1<l?(b=a[l],c||(b.ea=!1)):(b=new kb(b,this.src,f,!!d,e),b.ea=c,a.push(b));return b};N.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.h))return!1;var e=this.h[a];b=mb(e,b,c,d);return-1<b?(lb(e[b]),r(null!=e.length),pa.splice.call(e,b,1),0==e.length&&(delete this.h[a],this.da--),!0):!1};
var nb=function(a,b){var c=b.type;if(c in a.h){var d=a.h[c],e=qa(d,b),f;if(f=0<=e)r(null!=d.length),pa.splice.call(d,e,1);f&&(lb(b),0==a.h[c].length&&(delete a.h[c],a.da--))}};N.prototype.Ea=function(a,b,c,d){a=this.h[a.toString()];var e=-1;a&&(e=mb(a,b,c,d));return-1<e?a[e]:null};var mb=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.O&&f.F==b&&f.fa==!!c&&f.ha==d)return e}return-1};var ob="closure_lm_"+(1E6*Math.random()|0),pb={},qb=0,O=function(a,b,c,d,e){if("array"==aa(b))for(var f=0;f<b.length;f++)O(a,b[f],c,d,e);else if(c=rb(c),a&&a[ib])f=c,sb(a),a.m.add(String(b),f,!1,d,e);else{if(!b)throw Error("Invalid event type");var f=!!d,l=tb(a);l||(a[ob]=l=new N(a));d=l.add(b,c,!1,d,e);d.pa||(e=ub(),d.pa=e,e.src=a,e.F=d,a.addEventListener?a.addEventListener(b.toString(),e,f):a.attachEvent(vb(b.toString()),e),qb++)}},ub=function(){var a=wb,b=gb?function(c){return a.call(b.src,b.F,
c)}:function(c){c=a.call(b.src,b.F,c);if(!c)return c};return b},xb=function(a,b,c,d,e){if("array"==aa(b))for(var f=0;f<b.length;f++)xb(a,b[f],c,d,e);else c=rb(c),a&&a[ib]?a.m.remove(String(b),c,d,e):a&&(a=tb(a))&&(b=a.Ea(b,c,!!d,e))&&yb(b)},yb=function(a){if("number"!=typeof a&&a&&!a.O){var b=a.src;if(b&&b[ib])nb(b.m,a);else{var c=a.type,d=a.pa;b.removeEventListener?b.removeEventListener(c,d,a.fa):b.detachEvent&&b.detachEvent(vb(c),d);qb--;(c=tb(b))?(nb(c,a),0==c.da&&(c.src=null,b[ob]=null)):lb(a)}}},
vb=function(a){return a in pb?pb[a]:pb[a]="on"+a},Ab=function(a,b,c,d){var e=!0;if(a=tb(a))if(b=a.h[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.fa==c&&!f.O&&(f=zb(f,d),e=e&&!1!==f)}return e},zb=function(a,b){var c=a.F,d=a.ha||a.src;a.ea&&yb(a);return c.call(d,b)},wb=function(a,b){if(a.O)return!0;if(!gb){var c;if(!(c=b))t:{c=["window","event"];for(var d=h,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break t}c=d}e=c;c=new M(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){t:{var f=
!1;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(l){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,t=e.length-1;!c.H&&0<=t;t--){c.currentTarget=e[t];var w=Ab(e[t],f,!0,c),d=d&&w}for(t=0;!c.H&&t<e.length;t++)c.currentTarget=e[t],w=Ab(e[t],f,!1,c),d=d&&w}return d}return zb(a,new M(b,this))},tb=function(a){a=a[ob];return a instanceof N?a:null},Bb="__closure_events_fn_"+(1E9*Math.random()>>>0),rb=function(a){r(a,"Listener can not be null.");
if(ea(a))return a;r(a.handleEvent,"An object listener must have handleEvent method.");a[Bb]||(a[Bb]=function(b){return a.handleEvent(b)});return a[Bb]};var P=function(){F.call(this);this.m=new N(this);this.wb=this;this.Ra=null};p(P,F);P.prototype[ib]=!0;P.prototype.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};P.prototype.removeEventListener=function(a,b,c,d){xb(this,a,b,c,d)};
P.prototype.dispatchEvent=function(a){sb(this);var b,c=this.Ra;if(c){b=[];for(var d=1;c;c=c.Ra)b.push(c),r(1E3>++d,"infinite loop")}c=this.wb;d=a.type||a;if(ba(a))a=new G(a,c);else if(a instanceof G)a.target=a.target||c;else{var e=a;a=new G(d,c);ua(a,e)}var e=!0,f;if(b)for(var l=b.length-1;!a.H&&0<=l;l--)f=a.currentTarget=b[l],e=Cb(f,d,!0,a)&&e;a.H||(f=a.currentTarget=c,e=Cb(f,d,!0,a)&&e,a.H||(e=Cb(f,d,!1,a)&&e));if(b)for(l=0;!a.H&&l<b.length;l++)f=a.currentTarget=b[l],e=Cb(f,d,!1,a)&&e;return e};
P.prototype.d=function(){P.r.d.call(this);if(this.m){var a=this.m,b=0,c;for(c in a.h){for(var d=a.h[c],e=0;e<d.length;e++)++b,lb(d[e]);delete a.h[c];a.da--}}this.Ra=null};var Cb=function(a,b,c,d){b=a.m.h[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var l=b[f];if(l&&!l.O&&l.fa==c){var t=l.F,w=l.ha||l.src;l.ea&&nb(a.m,l);e=!1!==t.call(w,d)&&e}}return e&&0!=d.mb};P.prototype.Ea=function(a,b,c,d){return this.m.Ea(String(a),b,c,d)};var sb=function(a){r(a.m,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var Db=function(a,b,c){if(ea(a))c&&(a=m(a,c));else if(a&&"function"==typeof a.handleEvent)a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:h.setTimeout(a,b||0)};var Q=function(a,b){P.call(this);this.yb=k(a)?a:!0;this.Fa=b||Eb;this.na=this.Fa(this.aa)};p(Q,P);g=Q.prototype;g.j=null;g.t=null;g.N=void 0;g.xa=!1;g.aa=0;g.I=null;var Fb=Q.prototype,Gb=E("goog.net.WebSocket");Fb.a=Gb;var Eb=function(a){return Math.min(1E3*Math.pow(2,a),6E4)};g=Q.prototype;
g.open=function(a,b){r(h.WebSocket,"This browser does not support WebSocket");r(!this.W(),"The WebSocket is already open");null!=this.I&&h.clearTimeout(this.I);this.I=null;this.t=a;(this.N=b)?(J(this.a,"Opening the WebSocket on "+this.t+" with protocol "+this.N),this.j=new WebSocket(this.t,this.N)):(J(this.a,"Opening the WebSocket on "+this.t),this.j=new WebSocket(this.t));this.j.onopen=m(this.gc,this);this.j.onclose=m(this.dc,this);this.j.onmessage=m(this.Oa,this);this.j.onerror=m(this.Ma,this)};
g.close=function(){null!=this.I&&h.clearTimeout(this.I);this.I=null;this.j&&(J(this.a,"Closing the WebSocket."),this.xa=!0,this.j.close(),this.j=null)};g.send=function(a){r(this.W(),"Cannot send without an open socket");this.j.send(a)};g.W=function(){return!!this.j&&1==this.j.readyState};g.gc=function(){J(this.a,"WebSocket opened on "+this.t);this.dispatchEvent("d");this.aa=0;this.na=this.Fa(this.aa)};
g.dc=function(a){J(this.a,"The WebSocket on "+this.t+" closed.");this.dispatchEvent("a");this.j=null;this.xa?(J(this.a,"The WebSocket closed normally."),this.t=null,this.N=void 0):(I(this.a,"The WebSocket disconnected unexpectedly: "+a.data),this.yb&&(J(this.a,"Seconds until next reconnect attempt: "+Math.floor(this.na/1E3)),this.I=Db(m(this.open,this,this.t,this.N),this.na,this),this.aa++,this.na=this.Fa(this.aa)));this.xa=!1};g.Oa=function(a){this.dispatchEvent(new Hb(a.data))};
g.Ma=function(a){a=a.data;I(this.a,"An error occurred: "+a);this.dispatchEvent(new Ib(a))};g.d=function(){Q.r.d.call(this);this.close()};var Hb=function(a){G.call(this,"c");this.message=a};p(Hb,G);var Ib=function(a){G.call(this,"b");this.data=a};p(Ib,G);var R=function(a,b){P.call(this);this.J=b;this.Ha=!0;this.L=a;this.onClose=this.onMessage=null;var c=this.L,d=this.J,e=this.Na;sb(c);c.m.add(String(d),e,!1,!1,this)};p(R,P);n("cast.receiver.CastChannel",R);R.EventType={MESSAGE:"message",CLOSE:"close"};var Jb=function(a,b){G.call(this,a);this.message=b};p(Jb,G);R.Event=Jb;R.prototype.a=E("cast.receiver.CastChannel");R.prototype.s=function(){return"CastChannel["+this.J+" "+this.L.B()+"]"};R.prototype.B=function(){return this.L.B()};
R.prototype.getNamespace=R.prototype.B;R.prototype.Yb=function(){return this.J};R.prototype.getSenderId=R.prototype.Yb;R.prototype.Na=function(a){H(this.a,C,"Dispatching CastChannel message ["+this.L.B()+", "+this.J+"]: "+a.data);a=new Jb("message",a.data);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};
R.prototype.close=function(){if(this.Ha){this.Ha=!1;J(this.a,"Closing CastChannel ["+this.L.B()+", "+this.J+"]");var a=new Jb("close",this.J);if(this.onClose)this.onClose(a);this.dispatchEvent(a);this.A()}};R.prototype.send=function(a){if(!this.Ha)throw Error("Invalid state, socket not open");this.L.send(this.J,a)};R.prototype.send=R.prototype.send;R.prototype.d=function(){R.r.d.call(this);H(this.a,C,"Disposed "+this.s())};n("cast.receiver.system.NAMESPACE_PREFIX","urn:x-cast:");n("cast.receiver.system.ApplicationData",function(){this.name=this.id="";this.sessionId=0;this.namespaces=[];this.launchingSenderId=""});n("cast.receiver.system.SystemVolumeData",function(){this.level=1;this.muted=!1});n("cast.receiver.system.Sender",function(){this.userAgent=this.id=""});n("cast.receiver.system.VisibilityState",{VISIBLE:"visible",NOT_VISIBLE:"notvisible",UNKNOWN:"unknown"});
n("cast.receiver.system.StandbyState",{STANDBY:"standby",NOT_STANDBY:"notstandby",UNKNOWN:"unknown"});n("cast.receiver.system.SystemState",{NOT_STARTED:"notstarted",STARTING_IN_BACKGROUND:"startinginbackground",STARTING:"starting",READY:"ready",STOPPING_IN_BACKGROUND:"stoppinginbackground",STOPPING:"stopping"});var Kb=function(){P.call(this);this.l=null;var a=new Q(!0);this.l&&this.l.A();this.l=a;Ua(this,ha(Va,this.l));O(this.l,"d",this.hc,!1,this);O(this.l,"a",this.ec,!1,this);O(this.l,"b",this.Ma,!1,this);O(this.l,"c",this.Oa,!1,this)};p(Kb,P);var Lb=function(a,b,c){G.call(this,a);this.senderId=b;this.data=c};p(Lb,G);Kb.prototype.a=E("cast.receiver.IpcChannel");var Mb=function(a,b){Xa(a.a,"IpcChannel "+b);a.dispatchEvent(new Lb("urn:x-cast:com.google.cast.system","SystemSender",JSON.stringify({type:b})))};
g=Kb.prototype;g.hc=function(){Mb(this,"opened")};g.ec=function(){Mb(this,"closed")};g.Ma=function(){Mb(this,"error")};g.Oa=function(a){Xa(this.a,"Received message: "+a.message);var b=(a=JSON.parse(a.message))&&a.namespace;a&&b&&a.senderId&&a.data?this.dispatchEvent(new Lb(b,a.senderId,a.data)):I(this.a,"IpcChannel Message received is invalid")};g.open=function(){J(this.a,"Opening message bus websocket");this.l.open("ws://localhost:8008/v2/ipc")};
g.close=function(){J(this.a,"Closing message bus websocket");this.l.close()};g.W=function(){return this.l.W()};g.send=function(a,b,c){if(!this.W)throw Error("Underlying websocket is not open");a=JSON.stringify({namespace:a,senderId:b,data:c});Xa(this.a,"IPC message sent: "+a);this.l.send(a)};g.d=function(){Kb.r.d.call(this);H(this.a,C,"Disposed IpcChannel")};var S=function(a,b,c,d){P.call(this);this.v=a;this.C=b;this.Z=d||"STRING";this.onMessage=null;this.serializeMessage=this.Rb;this.deserializeMessage=this.Db;this.g={};for(a=0;a<c.length;a++)this.g[c[a]]=null;c=this.C;a=this.v;b=this.Na;sb(c);c.m.add(String(a),b,!1,!1,this)};p(S,P);n("cast.receiver.CastMessageBus",S);S.MessageType={STRING:"STRING",JSON:"JSON",CUSTOM:"CUSTOM"};S.EventType={MESSAGE:"message"};var Nb=function(a,b,c){G.call(this,a);this.senderId=b;this.data=c};p(Nb,G);S.Event=Nb;
S.prototype.a=E("cast.receiver.CastMessageBus");S.prototype.s=function(){return"CastMessageBus["+this.v+"]"};S.prototype.B=function(){return this.v};S.prototype.getNamespace=S.prototype.B;S.prototype.$a=function(){return this.Z};S.prototype.getMessageType=S.prototype.$a;
S.prototype.Na=function(a){H(this.a,C,"Dispatching CastMessageBus message");var b="STRING"==this.Z?a.data:this.deserializeMessage(a.data);this.dispatchEvent(new Nb(a.senderId,a.senderId,b));a=new Nb("message",a.senderId,b);if(this.onMessage)this.onMessage(a);this.dispatchEvent(a)};S.prototype.send=function(a,b){if("STRING"==this.Z){if(!ba(b))throw Error("Wrong argument, CastMessageBus type is STRING");this.C.send(this.v,a,b)}else this.C.send(this.v,a,this.serializeMessage(b))};S.prototype.send=S.prototype.send;
S.prototype.Va=function(a){this.send("*:*",a)};S.prototype.broadcast=S.prototype.Va;S.prototype.Ub=function(a){if(a in this.g)return this.g[a]||(this.g[a]=new R(this,a)),this.g[a];throw Error("Requested a socket for a disconnected sender: "+a);};S.prototype.getCastChannel=S.prototype.Ub;S.prototype.Rb=function(a){if("JSON"!=this.Z)throw Error("Unexpected message type for JSON serialization");return JSON.stringify(a)};
S.prototype.Db=function(a){if("JSON"!=this.Z)throw Error("Unexpected message type for JSON serialization");return JSON.parse(a)};S.prototype.d=function(){S.r.d.call(this);for(var a in this.g)this.g[a]&&this.g[a].close();this.g={};H(this.a,C,"Disposed "+this.s())};var T=function(){P.call(this);if(this.Wa=new cb){var a=this.Wa;if(1!=a.cb){Ta();var b=Sa,c=a.lc;b.T||(b.T=[]);b.T.push(c);a.cb=!0}}this.i=sa(Ob);this.$=!1;this.C=new Kb;this.q={};this.ca=new S("urn:x-cast:com.google.cast.system",this.C,ra(this.q),"JSON");Ua(this,ha(Va,this.ca));this.Xa=this.ta=null;this.bb=!1;this.X=this.Y=null;this.qa=!0;this.bc="1.11";this.K="notstarted";this.n={};this.onStandbyChanged=this.onVisibilityChanged=this.onSystemVolumeChanged=this.onSenderDisconnected=this.onSenderConnected=
this.onShutdown=this.onReady=null;O(this.ca,"SystemSender",this.ic,!1,this);O(window,"unload",this.Qa,!1,this);O(document,"visibilitychange",this.jb,!1,this);H(this.a,Ia,"Version: 2.0.0.0025")};p(T,P);n("cast.receiver.CastReceiverManager",T);T.Za=function(){return T.Ga?T.Ga:T.Ga=new T};T.getInstance=T.Za;
T.EventType={READY:"ready",SHUTDOWN:"shutdown",SENDER_CONNECTED:"senderconnected",SENDER_DISCONNECTED:"senderdisconnected",ERROR:"error",SYSTEM_VOLUME_CHANGED:"systemvolumechanged",VISIBILITY_CHANGED:"visibilitychanged",STANDBY_CHANGED:"standbychanged"};var U=function(a,b){G.call(this,a);this.data=b};p(U,G);T.Event=U;n("cast.receiver.system.DisconnectReason",{REQUESTED_BY_SENDER:"requested_by_sender",ERROR:"error",UNKNOWN:"unknown"});
var Pb=function(a,b,c){U.call(this,"senderdisconnected",a);this.senderId=a;this.userAgent=b;this.reason=c};p(Pb,U);T.SenderDisconnectedEvent=Pb;var Qb=function(a,b){U.call(this,"senderconnected",a);this.senderId=a;this.userAgent=b};p(Qb,U);T.SenderConnectedEvent=Qb;var Rb=function(a){U.call(this,"visibilitychanged",a);this.isVisible=a};p(Rb,U);T.VisibilityChangedEvent=Rb;var Sb=function(a){U.call(this,"standbychanged",null);this.isStandby=a};p(Sb,U);T.StandbyChangedEvent=Sb;
var Tb=function(a){U.call(this,"systemvolumechanged",a);this.data=a};p(Tb,U);T.SystemVolumeChangedEvent=Tb;var Ub=function(a){U.call(this,"ready",a);this.data=a};p(Ub,U);T.ReadyEvent=Ub;var Vb=function(){U.call(this,"shutdown",null)};p(Vb,U);T.ShutdownEvent=Vb;T.Config=function(){this.dialData=this.maxInactivity=this.statusText=void 0};var Ob={maxInactivity:10};T.prototype.a=E("cast.receiver.CastReceiverManager");T.prototype.s=function(){return"CastReceiverManager"};
T.prototype.start=function(a){if(a){if(!a)throw Error("Cannot validate undefined config.");if(void 0!=a.maxInactivity&&5>a.maxInactivity)throw Error("config.maxInactivity must be greater than or equal to 5 seconds.");ua(this.i,a||{})}this.bb=!0;this.C.open()};T.prototype.start=T.prototype.start;T.prototype.stop=function(){this.A();window.close()};T.prototype.stop=T.prototype.stop;T.prototype.Ia=function(){return"ready"==this.K};T.prototype.isSystemReady=T.prototype.Ia;T.prototype.Zb=function(){return ra(this.q)};
T.prototype.getSenders=T.prototype.Zb;T.prototype.Xb=function(a){return this.q[a]?sa(this.q[a]):null};T.prototype.getSender=T.prototype.Xb;T.prototype.ac=function(){return null==this.Y?this.X?"notvisible":"unknown":this.Y?"visible":"notvisible"};T.prototype.getVisibilityState=T.prototype.ac;T.prototype.$b=function(){return null==this.X?this.Y?"notstandby":"unknown":this.X?"standby":"notstandby"};T.prototype.getStandbyState=T.prototype.$b;
T.prototype.ab=function(){"notstarted"==this.K&&(this.K=/[&?]google_cast_bg=true(&|$)/.test(window.location.search)?"startinginbackground":"starting");return this.K};T.prototype.getSystemState=T.prototype.ab;T.prototype.Tb=function(){return this.ta};T.prototype.getApplicationData=T.prototype.Tb;T.prototype.Vb=function(){return this.Xa};T.prototype.getDeviceCapabilities=T.prototype.Vb;T.prototype.mc=function(a){this.Ia()?Wb(this,a):this.i.statusText!=a&&(this.i.statusText=a,this.$=!0)};
T.prototype.setApplicationState=T.prototype.mc;T.prototype.oc=function(a,b){this.Ia()?Wb(this,a,b):(void 0!=a&&a!=this.i.statusText&&(this.i.statusText=a,this.$=!0),void 0!=b&&b!=this.i.dialData&&(this.i.dialData=b,this.$=!0))};T.prototype.setLegacyApplicationState=T.prototype.oc;var Wb=function(a,b,c){var d={type:"setappstate"};void 0!=b&&(d.statusText=b);void 0!=c&&(d.dialData=c);a.ca.send("SystemSender",d)};T.prototype.pb=function(a){this.ca.send("SystemSender",{type:"startheartbeat",maxInactivity:a})};
T.prototype.setInactivityTimeout=T.prototype.pb;T.prototype.Ya=function(a,b){if("urn:x-cast:com.google.cast.system"==a)throw Error("Protected namespace");if(0!=a.lastIndexOf("urn:x-cast:",0))throw Error("Invalid namespace prefix");if(!this.n[a]){if(this.bb)throw Error("New namespaces can not be requested after start has been called");this.n[a]=new S(a,this.C,ra(this.q),b);Ua(this,ha(Va,this.n[a]))}if(b&&this.n[a].$a()!=b)throw Error("Invalid messageType for the namespace");return this.n[a]};
T.prototype.getCastMessageBus=T.prototype.Ya;
T.prototype.ic=function(a){a=a.data;switch(a.type){case "opened":J(this.a,"Underlying message bus is open");var b=ra(this.n),c=this.i.statusText;a=this.i.dialData;var d={type:"ready"};c&&(d.statusText=c);a&&(d.dialData=a);d.activeNamespaces=b;d.version="2.0.0";d.messagesVersion="1.0";this.ca.send("SystemSender",d);this.i.maxInactivity&&this.pb(this.i.maxInactivity);break;case "closed":this.Qa();break;case "error":this.dispatchEvent("error");break;case "ready":b=a.launchingSenderId;c=ra(this.n);this.sa=
a.version;this.qa=!Xb(this,this.bc);this.Xa=(d=a.deviceCapabilities)?sa(d):{};this.ta={id:a.applicationId,name:a.applicationName,sessionId:a.sessionId,namespaces:c,launchingSenderId:b};this.K="ready";this.$&&(this.$=!1,Wb(this,this.i.statusText,this.i.dialData));J(this.a,"Dispatching CastReceiverManager system ready event");b=new Ub(this.ta);if(this.onReady)this.onReady(b);this.dispatchEvent(b);break;case "senderconnected":b={id:a.senderId,userAgent:a.userAgent};J(this.a,"Dispatching CastReceiverManager sender connected event ["+
b.id+"]");b.id in this.q&&I(this.a,"Unexpected connected message for already connected sender: "+b.id);this.q[b.id]=b;a=new Qb(b.id,b.userAgent);for(c in this.n){var d=this.n[c],e=b.id;e in d.g?I(d.a,"Unexpected sender already registered ["+d.v+", "+e+"]"):(J(d.a,"Registering sender ["+d.v+", "+e+"]"),d.g[e]=null)}if(this.onSenderConnected)this.onSenderConnected(a);this.dispatchEvent(a);break;case "senderdisconnected":c=a.senderId;switch(a.reason){case "closed_by_peer":a="requested_by_sender";break;
case "transport_invalid_message":a="error";break;default:a="unknown"}J(this.a,"Dispatching sender disconnected event ["+c+"] Reason: "+a);if(c in this.q){d=this.q[c].userAgent;delete this.q[c];a=new Pb(c,d,a);for(b in this.n)d=this.n[b],e=c,e in d.g&&(J(d.a,"Unregistering sender ["+d.v+", "+e+"]"),d.g[e]&&d.g[e].close(),delete d.g[e]);if(this.onSenderDisconnected)this.onSenderDisconnected(a);this.dispatchEvent(a)}else I(this.a,"Unknown sender disconnected: "+c);break;case "volumechanged":b={level:a.level,
muted:a.muted};J(this.a,"Dispatching system volume changed event ["+b.level+", "+b.muted+"]");b=new Tb(b);if(this.onSystemVolumeChanged)this.onSystemVolumeChanged(b);this.dispatchEvent(b);break;case "visibilitychanged":this.qa||(b=a.visible,Yb(this,k(b)?b:null));break;case "standbychanged":if(!this.qa&&(b=a.standby,b=k(b)?b:null,b!=this.X)){J(this.a,"Dispatching standby changed event "+b);this.X=b;b=new Sb(!0===b);if(this.onStandbyChanged)this.onStandbyChanged(b);this.dispatchEvent(b)}break;default:throw Error("Unexpected message type: "+
a.type);}};var Yb=function(a,b){if(b==a.Y)J(a.a,"Ignoring visibility changed event, state is already "+b);else{J(a.a,"Dispatching visibility changed event "+b);a.Y=b;var c=new Rb(!1!==b);if(a.onVisibilityChanged)a.onVisibilityChanged(c);a.dispatchEvent(c)}};T.prototype.jb=function(){this.qa&&Yb(this,"visible"==document.visibilityState)};
T.prototype.Qa=function(){J(this.a,"Dispatching shutdown event");this.ab();this.K="startinginbackground"==this.K?"stoppinginbackground":"stopping";var a=new Vb;if(this.onShutdown)this.onShutdown(a);this.dispatchEvent(a)};
var Xb=function(a,b){if(!b)return I(a.a,"Version not provided"),!1;if(!a.sa)return I(a.a,"No System Version"),!1;var c=b.split(".");if(!c.length)return I(a.a,"Version provided is not valid: "+b),!1;var d=a.sa.split(".");if(!d.length)return I(a.a,"System Version format is not valid "+a.sa),!1;for(var e=0;e<c.length;e++){var f=parseInt(c[e],10);if(isNaN(f))return I(a.a,"Version is not numeric: "+b),!1;var l=d.length>e?parseInt(d[e],10):0;if(isNaN(l))return I(a.a,"System Version is not numeric: "+a.sa),
!1;if(f>l)return!1}return!0};T.prototype.d=function(){T.r.d.call(this);window&&xb(window,"unload",this.Qa,!1,this);document&&xb(document,"visibilitychange",this.jb,!1,this);delete T.Ga;Xa(this.a,"Disposed "+this.s())};var Zb=function(a,b){this.a=a;this.b=b;this.Ba=function(){};this.Aa=function(){};this.Ja=function(){};this.V=0;this.p=this.o=null;this.ia=!0;O(this.b,"error",this.La,!1,this);O(this.b,"ended",this.Ka,!1,this);O(this.b,"loadedmetadata",this.Pa,!1,this);J(this.a,"Using default Player")};g=Zb.prototype;g.kb=function(a,b){this.ia=a;this.V=b};g.La=function(a){this.Ba(a)};g.Ka=function(){this.Aa()};g.Pa=function(){this.o&&this.p&&$b(this.o,this.p);this.Ja()};
g.registerErrorCallback=function(a){this.Ba=a};g.registerEndedCallback=function(a){this.Aa=a};g.registerLoadCallback=function(a){this.Ja=a};g.unregisterErrorCallback=function(){this.Ba=function(){}};g.unregisterEndedCallback=function(){this.Aa=function(){}};g.unregisterLoadCallback=function(){this.Ja=function(){}};
g.load=function(a,b,c,d,e){d&&d.tracks&&this.b&&(this.o&&this.o.A(),this.o=new V(this.b,d.tracks,d.activeTrackIds||[],d.textTrackStyle||null));e||(this.V=c&&0<c?c:0,J(this.a,"Load - contentId: "+a+" autoplay: "+b+" time: "+this.V),this.b.autoplay=!1,a&&(this.b.src=a),this.b.autoplay=b,this.b.load())};g.reset=function(){this.o&&(this.o.A(),this.o=null);this.activeTrackIds=null;this.b.removeAttribute("src");this.V=0;this.b.load()};g.play=function(){this.b.play()};
g.seek=function(a,b){this.b.currentTime!=a&&(this.b.currentTime=a);"PLAYBACK_START"==b&&this.b.paused?this.b.play():"PLAYBACK_PAUSE"!=b||this.b.paused||this.b.pause()};g.pause=function(){this.b.pause()};g.getState=function(){null==this.ia&&(this.ia=this.b.autoplay);return this.b.paused||isNaN(this.b.duration)?this.b.duration&&(this.b.currentTime||0==this.b.currentTime)&&this.b.duration!=this.b.currentTime?this.b.currentTime==this.V&&this.ia?"BUFFERING":"PAUSED":"IDLE":"PLAYING"};
g.getCurrentTimeSec=function(){return this.b.currentTime};g.getDurationSec=function(){return this.b.duration};g.getVolume=function(){return{level:this.b.volume,muted:this.b.muted}};g.setVolume=function(a){void 0!=a.level&&(this.b.volume=a.level);void 0!=a.muted&&(this.b.muted=a.muted)};g.editTracksInfo=function(a){if(this.o){if(a.textTrackStyle){var b=this.o,c=a.textTrackStyle;ac(b);bc(b,c)}a.activeTrackIds&&$b(this.o,a.activeTrackIds);this.p=a.activeTrackIds||[]}};n("cast.receiver.media.MEDIA_NAMESPACE","urn:x-cast:com.google.cast.media");n("cast.receiver.media.StreamType",{BUFFERED:"BUFFERED",LIVE:"LIVE",NONE:"NONE"});n("cast.receiver.media.ErrorType",{INVALID_PLAYER_STATE:"INVALID_PLAYER_STATE",LOAD_FAILED:"LOAD_FAILED",LOAD_CANCELLED:"LOAD_CANCELLED",INVALID_REQUEST:"INVALID_REQUEST"});n("cast.receiver.media.ErrorReason",{INVALID_COMMAND:"INVALID_COMMAND",INVALID_PARAMS:"INVALID_PARAMS",INVALID_MEDIA_SESSION_ID:"INVALID_MEDIA_SESSION_ID",DUPLICATE_REQUEST_ID:"DUPLICATE_REQUEST_ID"});
n("cast.receiver.media.IdleReason",{CANCELLED:"CANCELLED",INTERRUPTED:"INTERRUPTED",FINISHED:"FINISHED",ERROR:"ERROR"});n("cast.receiver.media.SeekResumeState",{PLAYBACK_START:"PLAYBACK_START",PLAYBACK_PAUSE:"PLAYBACK_PAUSE"});n("cast.receiver.media.PlayerState",{IDLE:"IDLE",PLAYING:"PLAYING",PAUSED:"PAUSED",BUFFERING:"BUFFERING"});var cc=function(){this.contentId="";this.streamType="NONE";this.contentType="";this.customData=this.textTrackStyle=this.tracks=this.duration=this.metadata=void 0};
n("cast.receiver.media.MediaInformation",cc);var dc=function(){this.muted=this.level=void 0};n("cast.receiver.media.Volume",dc);n("cast.receiver.media.MediaStatus",function(){this.mediaSessionId=0;this.media=void 0;this.playbackRate=1;this.playerState="IDLE";this.idleReason=void 0;this.supportedMediaCommands=this.currentTime=0;this.volume={level:0,muted:!1};this.activeTrackIds=null;this.customData=void 0});
n("cast.receiver.media.Command",{PAUSE:1,SEEK:2,STREAM_VOLUME:4,STREAM_MUTE:8,ALL_BASIC_MEDIA:15,QUEUE_NEXT:64,QUEUE_PREV:128});n("cast.receiver.media.TrackType",{TEXT:"TEXT",AUDIO:"AUDIO",VIDEO:"VIDEO"});n("cast.receiver.media.TextTrackType",{SUBTITLES:"SUBTITLES",CAPTIONS:"CAPTIONS",DESCRIPTIONS:"DESCRIPTIONS",CHAPTERS:"CHAPTERS",METADATA:"METADATA"});n("cast.receiver.media.TextTrackEdgeType",{NONE:"NONE",OUTLINE:"OUTLINE",DROP_SHADOW:"DROP_SHADOW",RAISED:"RAISED",DEPRESSED:"DEPRESSED"});
n("cast.receiver.media.TextTrackWindowType",{NONE:"NONE",NORMAL:"NORMAL",ROUNDED_CORNERS:"ROUNDED_CORNERS"});n("cast.receiver.media.TextTrackFontGenericFamily",{SANS_SERIF:"SANS_SERIF",MONOSPACED_SANS_SERIF:"MONOSPACED_SANS_SERIF",SERIF:"SERIF",MONOSPACED_SERIF:"MONOSPACED_SERIF",CASUAL:"CASUAL",CURSIVE:"CURSIVE",SMALL_CAPITALS:"SMALL_CAPITALS"});n("cast.receiver.media.TextTrackFontStyle",{NORMAL:"NORMAL",BOLD:"BOLD",BOLD_ITALIC:"BOLD_ITALIC",ITALIC:"ITALIC"});
n("cast.receiver.media.Track",function(a,b){this.trackId=a;this.trackContentType=this.trackContentId=void 0;this.type=b;this.customData=this.subtype=this.language=this.name=void 0});n("cast.receiver.media.TextTrackStyle",function(){this.customData=this.fontStyle=this.fontGenericFamily=this.fontFamily=this.windowRoundedCornerRadius=this.windowColor=this.windowType=this.edgeColor=this.edgeType=this.backgroundColor=this.foregroundColor=this.fontScale=void 0});
n("cast.receiver.media.TracksInfo",function(){this.textTrackStyle=this.activeTrackIds=this.tracks=void 0});var fc=/#(.)(.)(.)(.)/,hc=function(a){if(!gc.test(a))throw Error("'"+a+"' is not a valid alpha hex color");5==a.length&&(a=a.replace(fc,"#$1$1$2$2$3$3$4$4"));a=a.toLowerCase();return[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16),parseInt(a.substr(7,2),16)/255]},gc=/^#(?:[0-9a-f]{4}){1,2}$/i,ic=function(a){var b=a.slice(0);b[3]=Math.round(1E3*a[3])/1E3;return"rgba("+b.join(",")+")"};!y&&!x||x&&x&&(v()||9<=Fa)||y&&z("1.9.1");x&&z("9");var V=function(a,b,c,d){F.call(this);this.b=a;this.za=this.ra=null;this.w=[];this.ya=!1;this.va="cast-captions-"+Math.floor(1E6*Math.random()).toString();this.Ab="["+this.va+'="true"]::cue ';this.Bb=new RegExp(/^[\.'":%,;\s\-0-9a-z]+$/i);for(a=0;a<b.length;a++){var e=b[a].trackContentId;if("TEXT"===b[a].type&&e){var f=b[a].trackContentType;if(0==la("vtt",e.substr(e.length-3,3))||void 0!=f&&0==la(f,"text/vtt"))e=document.createElement("track"),e.src=b[a].trackContentId,e.id=b[a].trackId,e.label=b[a].name,
e.srclang=b[a].language,e.kind=(b[a].subtype||"").toLowerCase(),this.w.push(e),this.b.appendChild(e)}}ac(this);d&&bc(this,d);$b(this,c)};p(V,F);V.prototype.a=E("cast.receiver.TextTracksManager");V.prototype.s=function(){return"TextTracksManager"};
var $b=function(a,b){for(var c=0;c<a.w.length;c++){var d=a.w[c].track;0<=qa(b,parseInt(a.w[c].id,10))?d.mode="showing":d.mode="disabled"}},jc=function(a){a.za&&(a.b.removeAttribute(a.va),document.head.removeChild(a.za),a.ra=null)},kc=function(a){a.ya&&(a.b.removeAttribute("crossorigin"),a.ya=!1)},W=function(a,b,c){!0===c||a.Bb.test(b)?a.ra.insertRule(a.Ab+"{ "+b+" }",a.ra.cssRules.length):Wa(a.a,"Invalid css cue: "+b)},ac=function(a){jc(a);kc(a);var b=document,c=b.createElement("style");c.type="text/css";
b.getElementsByTagName("head")[0].appendChild(c);c.styleSheet?c.styleSheet.cssText="":c.appendChild(b.createTextNode(""));a.za=c;a.ra=document.styleSheets[document.styleSheets.length-1];W(a,"font-size: 4.1vh;");W(a,"font-family: monospace;");W(a,"font-style: normal;");W(a,"font-weight: normal;");W(a,"background-color: black;");W(a,"color: white;");a.b.setAttribute(a.va,!0);0<a.w.length&&!a.b.getAttribute("crossorigin")&&(a.b.setAttribute("crossorigin","anonymous"),a.ya=!0)},lc=function(a,b,c){var d;
try{d=ic(hc(b))}catch(e){Wa(a.a,"Invalid color: "+b)}if(d)switch(a="rgba(204, 204, 204, "+parseInt(b.substring(7,9),16)+")",c){case "OUTLINE":return"text-shadow: 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+", 0 0 4px "+d+";";case "DROP_SHADOW":return"text-shadow: 0px 2px 3px "+d+", 0px 2px 4px "+d+", 0px 2px 5px "+d+";";case "RAISED":return"text-shadow: 1px 1px "+d+", 2px 2px "+d+", 3px 3px "+d+";";case "DEPRESSED":return"text-shadow: 1px 1px "+a+", 0 1px "+a+", -1px -1px "+d+", 0 -1px "+d+";"}return""},
mc=function(a){switch(a){case "BOLD":return"font-weight: bold;";case "BOLD_ITALIC":return"font-style: italic; font-weight: bold;";case "ITALIC":return"font-style: italic;"}return"font-style: normal;"},bc=function(a,b){if(k(b.foregroundColor))try{var c=ic(hc(b.foregroundColor));W(a,"color: "+c+";",!0)}catch(d){Wa(a.a,"Invalid color: "+b.foregroundColor)}if(k(b.backgroundColor))try{var e=ic(hc(b.backgroundColor));W(a,"background-color: "+e+";",!0)}catch(f){Wa(a.a,"Invalid color: "+b.backgroundColor)}k(b.fontScale)&&
W(a,"font-size: "+100*b.fontScale+"%;");if(k(b.fontFamily)||k(b.fontGenericFamily)){var c=b.fontFamily,e=b.fontGenericFamily,l="font-family: ",t="";k(c)&&(l+='"'+c+'"',t=", ");if(k(e)){var w;switch(e){case "SANS_SERIF":w='"Droid Sans", sans-serif';break;case "MONOSPACED_SANS_SERIF":w='"Droid Sans Mono", monospace';break;case "SERIF":w='"Droid Serif", serif';break;case "MONOSPACED_SERIF":w='"Cutive Mono"';break;case "CASUAL":w='"Short Stack"';break;case "CURSIVE":w="Quintessential";break;case "SMALL_CAPITALS":w=
'"Alegreya Sans SC"'}l+=t+w}W(a,l+";")}k(b.fontStyle)&&W(a,mc(b.fontStyle));k(b.edgeType)&&(w=k(b.foregroundColor)?b.foregroundColor:"#FFFFFFFF",w=k(b.edgeColor)?lc(a,b.edgeColor,b.edgeType):lc(a,w,b.edgeType),W(a,w,!0))};V.prototype.d=function(){V.r.d.call(this);for(var a=0;a<this.w.length;a++)this.b.removeChild(this.w[a]);this.w=[];jc(this);kc(this);H(this.a,C,"Disposed "+this.s())};var X=function(a,b){P.call(this);this.ma=T.Za().Ya("urn:x-cast:com.google.cast.media","JSON");this.ka=0;this.jc=1;this.uc=b||15;this.ub=this.gb=this.M=this.la=this.e=this.c=null;this.u=!1;this.p=this.U=this.f=null;this.ja=!0;this.Q=null;this.ua=this.zb.bind(this);this.customizedStatusCallback=this.Cb;this.onLoad=this.Jb;this.onPlay=this.Mb;this.onSeek=this.Ob;this.onPause=this.Lb;this.onStop=this.Qb;this.onSetVolume=this.Pb;this.onEditTracksInfo=this.Eb;this.onQueueUpdate=this.Nb;this.onMetadataLoaded=
this.Kb;this.onLoadMetadataError=this.Ib;this.onEnded=this.Fb;this.onError=this.Gb;this.onGetStatus=this.Hb;this.rb(a);this.ma.onMessage=this.fc.bind(this);this.Q=Db(this.ua,1E3)};p(X,P);n("cast.receiver.MediaManager",X);X.EventType={LOAD:"load",STOP:"stop",PAUSE:"pause",PLAY:"play",SEEK:"seek",SET_VOLUME:"setvolume",GET_STATUS:"getstatus",EDIT_TRACKS_INFO:"edittracksinfo",QUEUE_UPDATE:"queueupdate"};var Y=function(a,b,c){G.call(this,a);this.data=b;this.senderId=c};p(Y,G);X.Event=Y;
var Z=function(){this.requestId=0;this.mediaSessionId=void 0;this.customData=null};X.RequestData=Z;var nc=function(){this.media=new cc;this.autoplay=!1;this.currentTime=0;this.activeTrackIds=void 0};p(nc,Z);X.LoadRequestData=nc;var oc=function(){this.volume=new dc};p(oc,Z);X.VolumeRequestData=oc;var pc=function(){this.textTrackStyle=this.activeTrackIds=void 0};p(pc,Z);X.EditTracksInfoData=pc;var qc=function(){this.resumeState=void 0;this.currentTime=0};p(qc,Z);X.SeekRequestData=qc;var rc=function(){};
p(rc,Z);X.QueueUpdateRequestData=rc;p(Y,G);X.LoadInfo=function(a,b){this.message=a;this.senderId=b};X.prototype.a=E("cast.receiver.MediaManager");X.prototype.s=function(){return"MediaManager"};X.prototype.Wb=function(){return this.e};X.prototype.getMediaInformation=X.prototype.Wb;X.prototype.pc=function(a,b,c){b=void 0==b||b;if(c&&!b)throw Error("No broadcast call but status customData has been provided");this.e=a;b&&this.k(!0,null,c)};X.prototype.setMediaInformation=X.prototype.pc;
var sc=function(a){for(var b=0;b<a.length;b++)if(!k(a[b].trackId)||!k(a[b].type))return!1;return!0},tc=function(a,b,c){if(!c||0===c.length)return!0;if(!b||c.length>b.length)return I(a.a,"Too many track IDs"),!1;for(var d=0,e=0,f=0;f<c.length;f++){for(var l=!1,t=0;t<b.length;t++)if(c[f]===b[t].trackId){l=!0;break}if(!l)return I(a.a,"Track ID does not exist: "+c[f]),!1;"AUDIO"===b[t].type?e++:"VIDEO"===b[t].type&&d++;if(1<e||1<d)return I(a.a,"Maximum one active video and one active audio track supported"),
!1}return!0};
X.prototype.fc=function(a){var b=a.data;a=a.senderId;var c;c=b.type;var d=b.requestId;if("number"==typeof d&&d==Math.floor(d)){var e=!1;void 0!=b.mediaSessionId&&b.mediaSessionId!=this.ka?(I(this.a,"Invalid media session ID: "+b.mediaSessionId+"  does not match the expected ID: "+this.ka),e=!0):"LOAD"!=c&&"GET_STATUS"!=c&&(void 0==b.mediaSessionId?(I(this.a,"Invalid media session ID, it is undefined"),e=!0):"IDLE"==uc(this)&&(I(this.a,"Unexpected command, player is in IDLE state so the media session ID is not valid yet"),e=
!0));e?(this.ba(a,d,"INVALID_REQUEST","INVALID_MEDIA_SESSION_ID"),c=!1):(H(this.a,C,"MediaManager message received"),c=!0)}else I(this.a,"Ignoring request, requestId is not an integer: "+d),c=!1;if(c){d=b.type;c=b.requestId;delete b.type;e=null;switch(d){case "LOAD":J(this.a,"Dispatching MediaManager load event");d=!1;b.media?b.media.tracks&&!sc(b.media.tracks)?(I(this.a,"Invalid tracks information"),d=!0):b.activeTrackIds&&!tc(this,b.media.tracks,b.activeTrackIds)&&(d=!0):(I(this.a,"Media is mandatory"),
d=!0);if(d)e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{this.f?this.Sa("LOAD_CANCELLED"):this.e&&this.P("INTERRUPTED");this.f={senderId:a,message:b};b.media&&(this.e=b.media);this.p=b.activeTrackIds||null;this.ka++;this.ja&&this.c.kb&&this.c.kb(void 0!=b.autoplay?b.autoplay:!0,0<b.currentTime?b.currentTime:0);b=new Y("load",b,a);if(this.onLoad)this.onLoad(b);this.dispatchEvent(b);e=null}break;case "GET_STATUS":J(this.a,"Dispatching MediaManager getStatus event");b=new Y("getstatus",b,a);
if(this.onGetStatus)this.onGetStatus(b);this.dispatchEvent(b);e=null;break;case "PLAY":J(this.a,"Dispatching MediaManager play event");b=new Y("play",b,a);if(this.onPlay)this.onPlay(b);this.dispatchEvent(b);e=null;break;case "SEEK":if(void 0==b.currentTime)I(this.a,"currentTime is mandatory"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{J(this.a,"Dispatching MediaManager seek event");b=new Y("seek",b,a);if(this.onSeek)this.onSeek(b);this.dispatchEvent(b);e=null}break;case "STOP":J(this.a,
"Dispatching MediaManager stop event");b=new Y("stop",b,a);if(this.onStop)this.onStop(b);this.dispatchEvent(b);e=null;break;case "PAUSE":J(this.a,"Dispatching MediaManager pause event");b=new Y("pause",b,a);if(this.onPause)this.onPause(b);this.dispatchEvent(b);e=null;break;case "SET_VOLUME":if(!b.volume||void 0==b.volume.level&&void 0==b.volume.muted)I(this.a,"volume is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else if(void 0!=b.volume.level&&0>b.volume.level||1<b.volume.level)I(this.a,
"volume level is invalid"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};else{J(this.a,"Dispatching MediaManager setvolume event");b=new Y("setvolume",b,a);if(this.onSetVolume)this.onSetVolume(b);this.dispatchEvent(b);e=null}break;case "EDIT_TRACKS_INFO":J(this.a,"Dispatching MediaManager ediTracksInfo event");if(tc(this,this.e.tracks,b.activeTrackIds)){d=new Y("edittracksinfo",b,a);b.textTrackStyle&&(this.e.textTrackStyle=b.textTrackStyle);b.activeTrackIds&&(this.p=b.activeTrackIds);if(this.onEditTracksInfo)this.onEditTracksInfo(d);
this.dispatchEvent(d);e=null}else I(this.a,"Invalid track IDs"),e={type:"INVALID_REQUEST",reason:"INVALID_PARAMS"};break;case "QUEUE_UPDATE":b=new Y("queueupdate",b,a);if(this.onQueueUpdate)this.onQueueUpdate(b);this.dispatchEvent(b);e=null;break;default:I(this.a,"Unexpected message type: "+d),e={type:"INVALID_REQUEST",reason:"INVALID_COMMAND"}}e&&(I(this.a,"Sending error: "+e.type+" "+e.reason),this.ba(a,c,e.type,e.reason))}};
var uc=function(a){if(!a.e)return"IDLE";var b=a.c.getState();return"PLAYING"==b&&a.u?"BUFFERING":b},vc=function(a,b,c){var d={type:"MEDIA_STATUS"};if(!a.e&&!a.la)return d.status=[],d;var e={mediaSessionId:a.ka,playbackRate:a.jc,playerState:uc(a),currentTime:a.c.getCurrentTimeSec(),supportedMediaCommands:a.uc,volume:a.c.getVolume()};a.p&&(e.activeTrackIds=a.p);b&&(e.media=a.e||a.la||void 0);a.e||(a.la=null);"IDLE"==e.playerState?a.U&&(e.idleReason=a.U):a.U=null;void 0!=c&&(e.customData=c);a.customizedStatusCallback?
(a=a.customizedStatusCallback(e),null==a?d=null:d.status=[a]):d.status=[e];return d},wc=function(a){var b=a.c.getCurrentTimeSec();a.M=b;a.gb=b;a.ub=Date.now();null!=a.Q&&h.clearTimeout(a.Q);a.Q=Db(a.ua,1E3)};
X.prototype.zb=function(){this.Q=Db(this.ua,1E3);if("IDLE"!=uc(this)&&"PAUSED"!=uc(this)){var a=this.M;this.M=this.c.getCurrentTimeSec();var b=this.u;this.u=100>1E3*(this.M-a);b!=this.u?(H(this.a,C,"Buffering state changed, isPlayerBuffering: "+this.u+" old time: "+a+" current time: "+this.M),this.k(!1)):!this.u&&(a=1E3*(this.M-this.gb)-(Date.now()-this.ub),1E3<a||-1E3>a)&&(H(this.a,C,"Time drifted: "+a),this.k(!1))}};
X.prototype.k=function(a,b,c){this.c?(H(this.a,C,"Sending broadcast status message"),a=vc(this,a,c),null!=a&&(a.requestId=b||0,this.ma.Va(a),wc(this))):I(this.a,"Not sending broadcast status message, state is invalid")};X.prototype.broadcastStatus=X.prototype.k;X.prototype.nc=function(a){H(this.a,C,"Setting IDLE reason: "+a);this.U=a};X.prototype.setIdleReason=X.prototype.nc;
X.prototype.ba=function(a,b,c,d,e){J(this.a,"Sending error message to "+a);var f={};f.requestId=b;f.type=c;d&&(f.reason=d);e&&(f.customData=e);this.ma.send(a,f)};X.prototype.sendError=X.prototype.ba;X.prototype.ob=function(a,b,c,d){this.c?(H(this.a,C,"Sending status message to "+a),c=vc(this,c,d),null!=c&&(c.requestId=b,this.ma.send(a,c),wc(this))):(I(this.a,"State is invalid"),this.ba(a,b,"INVALID_PLAYER_STATE",null,d))};X.prototype.sendStatus=X.prototype.ob;X.prototype.Cb=function(a){return a};
X.prototype.Jb=function(a){a=a.data;if(a.media&&a.media.contentId){var b=void 0===a.autoplay?!0:a.autoplay;a.media.tracks?this.c.load(a.media.contentId,b,a.currentTime,{tracks:a.media.tracks,activeTrackIds:a.activeTrackIds,textTrackStyle:a.media.textTrackStyle}):this.c.load(a.media.contentId,b,a.currentTime)}};
X.prototype.cc=function(a){if(!this.f)return!1;a.tracks=a.tracks||void 0;if(a.tracks&&!sc(a.tracks))return I(this.a,"Invalid tracks information"),!1;if(a.activeTrackIds&&!tc(this,a.tracks,a.activeTrackIds))return I(this.a,"Invalid active tracks"),!1;this.p=a.activeTrackIds||null;this.e.tracks=a.tracks;this.e.textTrackStyle=a.textTrackStyle||void 0;this.c.load("",!1,void 0,a,!0);return!0};X.prototype.loadTracksInfo=X.prototype.cc;
X.prototype.rb=function(a){a!==this.c&&(this.c&&(this.c.unregisterErrorCallback(),this.c.unregisterEndedCallback(),this.c.unregisterLoadCallback()),this.c=(this.ja=a.getState?!1:!0)?new Zb(this.a,a):a,this.c.registerErrorCallback(this.La.bind(this)),this.c.registerEndedCallback(this.Ka.bind(this)),this.c.registerLoadCallback(this.Pa.bind(this)))};X.prototype.setMediaElement=X.prototype.rb;
X.prototype.Pa=function(){if(this.f)if(J(this.a,"Metadata loaded"),this.e&&(this.e.duration=this.c.getDurationSec()),this.u=!0,this.onMetadataLoaded)this.onMetadataLoaded(this.f);else this.f=null};X.prototype.Kb=function(a){this.ja&&a.message&&void 0!=a.message.currentTime&&a.message.currentTime!=this.c.getCurrentTimeSec()&&this.c.seek(a.message.currentTime);this.nb()};
X.prototype.La=function(a){if(this.f)if(I(this.a,"Load metadata error"),this.onLoadMetadataError)this.onLoadMetadataError(this.f);else this.f=null;else if(this.onError)this.onError(a)};X.prototype.Sa=function(a,b){this.f?(this.ba(this.f.senderId,this.f.message.requestId,a||"LOAD_FAILED",null,b),this.f=null):I(this.a,"Not sending LOAD error as there is no on going LOAD request")};X.prototype.sendLoadError=X.prototype.Sa;
X.prototype.nb=function(a){this.f?(this.k(!0,this.f.message.requestId,a),this.f=null):I(this.a,"Not sending status as there is no on going LOAD request")};X.prototype.sendLoadComplete=X.prototype.nb;g=X.prototype;g.Gb=function(){this.P("ERROR")};g.Ib=function(){this.P("ERROR",!1);this.Sa("LOAD_FAILED")};g.Ka=function(){if(this.onEnded)this.onEnded()};g.Fb=function(){this.P("FINISHED")};g.Hb=function(a){H(this.a,C,"onGetStatus");this.ob(a.senderId,a.data.requestId,!0)};
g.Mb=function(a){H(this.a,C,"onPlay");this.c.play();this.k(!1,a.data.requestId)};g.Ob=function(a){a=a.data;H(this.a,C,"onSeek: "+JSON.stringify(a));this.c.seek(a.currentTime,a.resumeState);"PAUSED"!=this.c.getState()&&(this.u=!0);this.k(!1,a.requestId)};g.Qb=function(a){this.P("CANCELLED",!0,a.data.requestId)};
g.P=function(a,b,c,d){b=void 0==b||b;if((d||c)&&!b)throw Error("customData and requestId should only be provided in broadcast mode");this.e?(this.c.reset(),this.p=null,a&&(this.U=a),this.la=this.e,this.e=null,b&&this.k(!1,c,d)):J(this.a,"Nothing to reset, Media is already null")};X.prototype.resetMediaElement=X.prototype.P;g=X.prototype;g.Lb=function(a){this.c.pause();this.k(!1,a.data.requestId)};g.Pb=function(a){a=a.data;this.c.setVolume(a.volume);this.k(!1,a.requestId)};
g.Eb=function(a){a=a.data;var b={activeTrackIds:a.activeTrackIds,textTrackStyle:a.textTrackStyle};this.c.editTracksInfo&&this.c.editTracksInfo(b);this.k(a.textTrackStyle?!0:!1,a.requestId)};g.Nb=function(a){this.k(!1,a.data.requestId)};g.d=function(){X.r.d.call(this);H(this.a,C,"Disposed "+this.s())};}).call(window);